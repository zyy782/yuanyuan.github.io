<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /**
         * 使用indexOf的缺点：
         *    1.对象无法去重
         *    2.NaN无法去重
         */
        // Array.prototype.uniq = function() {
        //     let arr = []
        //     for (let i = 0; i < this.length; i++) {
        //         if (arr.indexOf(this[i]) == -1) {
        //             arr.push(this[i])
        //         }
        //     }
        //     return arr
        // }
        // var aa = [1, 2, 3, 3, 5, 2]
        // var bb = [false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN]
        // console.log(aa.uniq()) //[1, 2, 3, 5]
        // console.log(bb.uniq()) //[false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', NaN]


        /**
         * 使用includes的缺点：
         *    1.对象无法去重
         */
        //  let arr = []
        //     for (let i = 0; i < this.length; i++) {
        //         if (!arr.includes(this[i])) {
        //             arr.push(this[i])
        //         }
        //     }
        //     return arr
        // var aa = [1, 2, 3, 3, 5, 2]
        // var bb = [false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN]
        // console.log(aa.uniq()) //[1, 2, 3, 5]
        // console.log(bb.uniq()) //[false, true, undefined, null, NaN, 0, 1, {}, {}, 'a']


        /**
         * for循环去重
         *   1.对象无法去重
         *   2.NaN无法去重
         */
        Array.prototype.uniq = function() {
            let arr = [];
            let flag = true;
            for (let i = 0; i < this.length; i++) {
                flag = false;
                for (let j = 0; j < arr.length; j++) {
                    if (this[i] === arr[j]) {
                        flag = true;
                        break;
                    }
                }
                if (!flag) {;
                    arr.push(this[i])
                }
            }

            return arr;
        }
        var aa = [1, 2, 3, 3, 5, 2]
        var bb = [false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN]
        console.log(aa.uniq()) //[1, 2, 3, 5]
        console.log(bb.uniq()) //[false, true, undefined, null, NaN, 0, 1, {}, {}, 'a']


        // set 去重  NaN可以  对象不可以

        // Array.prototype.uniq = function() {
        //     // return [...new Set(this)]//...可以转换为数字
        //     return Array.from(new Set(this))
        // }
        // var aa = [1, 2, 3, 3, 5, 2]
        // var bb = [false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN]
        // console.log(aa.uniq()) //[1, 2, 3, 5]
        // console.log(bb.uniq()) //[false, true, undefined, null, NaN, 0, 1, {}, {}, 'a']
    </script>
</body>

</html>