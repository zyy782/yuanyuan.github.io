<!-- 生成html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      // 异步加载图片
      function loadImage(url) {
        return new Promise((resolve, reject) => {
          // 创建一个新的 Image 对象
          let img = new Image()

          // 设置图片的 src 属性，开始加载图片
          img.src = url

          // 设置图片加载成功的回调函数
          img.onload = () => {
            resolve(img)
          }

          // 设置图片加载失败的回调函数
          img.onerror = (error) => {
            reject(new Error(`Failed to load image at ${url}`)); 
          }


        })
      }
      
      // 使用方式
      loadImage('../pictures/02.png')
        .then((img) => {
          document.body.appendChild(img)
          console.log('图片加载成功')
        })
        .catch((error) => {
          console.error('图片加载失败', error)
        })
    </script>
  </body>
</html>
